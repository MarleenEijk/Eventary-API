É
^D:\Fontys\2025-2026\Semester 3.1\Individueel project\Eventary\Eventary-API\DAL\AppDbContext.cs
	namespace 	
DAL
 
{ 
public 

class 
AppDbContext 
: 
	DbContext  )
{ 
public 
AppDbContext 
( 
DbContextOptions ,
<, -
AppDbContext- 9
>9 :
options; B
)B C
:D E
baseF J
(J K
optionsK R
)R S
{		 	
}

 	
public 
DbSet 
< 
Employee 
> 
employee '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
DbSet 
< 
Item 
> 
item 
{  !
get" %
;% &
set' *
;* +
}, -
public 
DbSet 
< 
Category 
> 
category '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
DbSet 
< 
Order 
> 
order !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
DbSet 
< 
Company 
> 
company %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
} 
} â
qD:\Fontys\2025-2026\Semester 3.1\Individueel project\Eventary\Eventary-API\DAL\Repositories\CategoryRepository.cs
	namespace 	
DAL
 
. 
Repositories 
{ 
public 

class 
CategoryRepository #
:$ %
ICategoryRepository& 9
{ 
private		 
readonly		 
AppDbContext		 %
_context		& .
;		. /
public 
CategoryRepository !
(! "
AppDbContext" .
context/ 6
)6 7
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
CategoryDto& 1
>1 2
>2 3
GetAllAsync4 ?
(? @
)@ A
{ 	
var 

categories 
= 
await "
_context# +
.+ ,
category, 4
.4 5
ToListAsync5 @
(@ A
)A B
;B C
return 

categories 
. 
Select $
($ %
category% -
=>. 0
new1 4
CategoryDto5 @
{ 
Id 
= 
category 
. 
Id  
,  !
Name 
= 
category 
.  
Name  $
,$ %

Company_Id 
= 
category %
.% &

Company_Id& 0
} 
) 
; 
} 	
public 
async 
Task 
< 
CategoryDto %
?% &
>& '
GetByIdAsync( 4
(4 5
long5 9
id: <
)< =
{ 	
var 
category 
= 
await  
_context! )
.) *
category* 2
.2 3
	FindAsync3 <
(< =
id= ?
)? @
;@ A
if 
( 
category 
== 
null  
)  !
{ 
return   
null   
;   
}!! 
return## 
new## 
CategoryDto## "
{$$ 
Id%% 
=%% 
category%% 
.%% 
Id%%  
,%%  !
Name&& 
=&& 
category&& 
.&&  
Name&&  $
,&&$ %

Company_Id'' 
='' 
category'' %
.''% &

Company_Id''& 0
}(( 
;(( 
})) 	
}** 
}++ È+
pD:\Fontys\2025-2026\Semester 3.1\Individueel project\Eventary\Eventary-API\DAL\Repositories\CompanyRepository.cs
	namespace 	
DAL
 
. 
Repositories 
{ 
public 

class 
CompanyRepository "
:# $
ICompanyRepository% 7
{		 
private

 
readonly

 
AppDbContext

 %
_context

& .
;

. /
public 
CompanyRepository  
(  !
AppDbContext! -
context. 5
)5 6
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IEnumerable %
<% &

CompanyDto& 0
>0 1
>1 2
GetAllAsync3 >
(> ?
)? @
{ 	
return 
await 
_context !
.! "
company" )
. 
Select 
( 
company 
=>  "
new# &

CompanyDto' 1
{ 
Id 
= 
company  
.  !
Id! #
,# $
Name 
= 
company "
." #
Name# '
} 
) 
. 
ToListAsync 
( 
) 
; 
} 	
public 
async 
Task 
< 

CompanyDto $
?$ %
>% &
GetByIdAsync' 3
(3 4
long4 8
id9 ;
); <
{ 	
var 
company 
= 
await 
_context  (
.( )
company) 0
.0 1
	FindAsync1 :
(: ;
id; =
)= >
;> ?
if 
( 
company 
== 
null 
)  
return! '
null( ,
;, -
return!! 
new!! 

CompanyDto!! !
{"" 
Id## 
=## 
company## 
.## 
Id## 
,##  
Name$$ 
=$$ 
company$$ 
.$$ 
Name$$ #
}%% 
;%% 
}&& 	
public(( 
async(( 
Task(( 
<(( 

CompanyDto(( $
>(($ %
AddCompanyAsync((& 5
(((5 6

CompanyDto((6 @

companyDto((A K
)((K L
{)) 	
var** 
company** 
=** 
new** 
Company** %
{++ 
Name,, 
=,, 

companyDto,, !
.,,! "
Name,," &
}-- 
;-- 
_context// 
.// 
company// 
.// 
Add//  
(//  !
company//! (
)//( )
;//) *
await00 
_context00 
.00 
SaveChangesAsync00 +
(00+ ,
)00, -
;00- .
return22 
new22 

CompanyDto22 !
{33 
Id44 
=44 
company44 
.44 
Id44 
,44  
Name55 
=55 
company55 
.55 
Name55 #
}66 
;66 
}77 	
public99 
async99 
Task99 
<99 
bool99 
>99 
UpdateCompanyAsync99  2
(992 3

CompanyDto993 =

companyDto99> H
)99H I
{:: 	
var;; 
company;; 
=;; 
await;; 
_context;;  (
.;;( )
company;;) 0
.;;0 1
	FindAsync;;1 :
(;;: ;

companyDto;;; E
.;;E F
Id;;F H
);;H I
;;;I J
if<< 
(<< 
company<< 
==<< 
null<< 
)<<  
return<<! '
false<<( -
;<<- .
company>> 
.>> 
Name>> 
=>> 

companyDto>> %
.>>% &
Name>>& *
;>>* +
_context?? 
.?? 
company?? 
.?? 
Update?? #
(??# $
company??$ +
)??+ ,
;??, -
await@@ 
_context@@ 
.@@ 
SaveChangesAsync@@ +
(@@+ ,
)@@, -
;@@- .
returnBB 
trueBB 
;BB 
}CC 	
publicEE 
asyncEE 
TaskEE 
<EE 
boolEE 
>EE 
DeleteCompanyAsyncEE  2
(EE2 3
longEE3 7
idEE8 :
)EE: ;
{FF 	
varGG 
companyGG 
=GG 
awaitGG 
_contextGG  (
.GG( )
companyGG) 0
.GG0 1
	FindAsyncGG1 :
(GG: ;
idGG; =
)GG= >
;GG> ?
ifHH 
(HH 
companyHH 
==HH 
nullHH 
)HH  
returnHH! '
falseHH( -
;HH- .
_contextJJ 
.JJ 
companyJJ 
.JJ 
RemoveJJ #
(JJ# $
companyJJ$ +
)JJ+ ,
;JJ, -
awaitKK 
_contextKK 
.KK 
SaveChangesAsyncKK +
(KK+ ,
)KK, -
;KK- .
returnMM 
trueMM 
;MM 
}OO 	
}PP 
}QQ “H
qD:\Fontys\2025-2026\Semester 3.1\Individueel project\Eventary\Eventary-API\DAL\Repositories\EmployeeRepository.cs
	namespace 	
DAL
 
. 
Repositories 
{ 
public 

class 
EmployeeRepository #
:$ %
IEmployeeRepository& 9
{		 
private

 
readonly

 
AppDbContext

 %
_context

& .
;

. /
public 
EmployeeRepository !
(! "
AppDbContext" .
context/ 6
)6 7
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
EmployeeDto& 1
>1 2
>2 3
GetAllAsync4 ?
(? @
)@ A
{ 	
var 
	employees 
= 
await !
_context" *
.* +
employee+ 3
.3 4
ToListAsync4 ?
(? @
)@ A
;A B
return 
	employees 
. 
Select #
(# $
employee$ ,
=>- /
new0 3
EmployeeDto4 ?
{ 
Id 
= 
employee 
. 
Id  
,  !
Name 
= 
employee 
.  
Name  $
,$ %
Email 
= 
employee  
.  !
Email! &
,& '
IsAdmin 
= 
employee "
." #
IsAdmin# *
,* +
StoragePermission !
=" #
employee$ ,
., -
StoragePermission- >
,> ?
OrderPermission 
=  !
employee" *
.* +
OrderPermission+ :
,: ;
EmployeePermission "
=# $
employee% -
.- .
EmployeePermission. @
,@ A

Company_Id 
= 
employee %
.% &

Company_Id& 0
} 
) 
; 
} 	
public!! 
async!! 
Task!! 
<!! 
EmployeeDto!! %
?!!% &
>!!& '
GetByIdAsync!!( 4
(!!4 5
long!!5 9
id!!: <
)!!< =
{"" 	
var## 
employee## 
=## 
await##  
_context##! )
.##) *
employee##* 2
.##2 3
	FindAsync##3 <
(##< =
id##= ?
)##? @
;##@ A
if$$ 
($$ 
employee$$ 
==$$ 
null$$  
)$$  !
{%% 
return&& 
null&& 
;&& 
}'' 
return)) 
new)) 
EmployeeDto)) "
{** 
Id++ 
=++ 
employee++ 
.++ 
Id++  
,++  !
Name,, 
=,, 
employee,, 
.,,  
Name,,  $
,,,$ %
Email-- 
=-- 
employee--  
.--  !
Email--! &
,--& '
IsAdmin.. 
=.. 
employee.. "
..." #
IsAdmin..# *
,..* +
StoragePermission// !
=//" #
employee//$ ,
.//, -
StoragePermission//- >
,//> ?
OrderPermission00 
=00  !
employee00" *
.00* +
OrderPermission00+ :
,00: ;
EmployeePermission11 "
=11# $
employee11% -
.11- .
EmployeePermission11. @
,11@ A

Company_Id22 
=22 
employee22 %
.22% &

Company_Id22& 0
}33 
;33 
}44 	
public66 
async66 
Task66 
AddEmployeeAsync66 *
(66* +
EmployeeDto66+ 6
employeeDto667 B
)66B C
{77 	
var88 
employee88 
=88 
new88 
Employee88 '
{99 
Id:: 
=:: 
employeeDto::  
.::  !
Id::! #
,::# $
Name;; 
=;; 
employeeDto;; "
.;;" #
Name;;# '
,;;' (
Email<< 
=<< 
employeeDto<< #
.<<# $
Email<<$ )
,<<) *
Password== 
=== 
employeeDto== &
.==& '
Password==' /
,==/ 0
IsAdmin>> 
=>> 
employeeDto>> %
.>>% &
IsAdmin>>& -
,>>- .
StoragePermission?? !
=??" #
employeeDto??$ /
.??/ 0
StoragePermission??0 A
,??A B
OrderPermission@@ 
=@@  !
employeeDto@@" -
.@@- .
OrderPermission@@. =
,@@= >
EmployeePermissionAA "
=AA# $
employeeDtoAA% 0
.AA0 1
EmployeePermissionAA1 C
,AAC D

Company_IdBB 
=BB 
employeeDtoBB (
.BB( )

Company_IdBB) 3
}CC 
;CC 
awaitEE 
_contextEE 
.EE 
employeeEE #
.EE# $
AddAsyncEE$ ,
(EE, -
employeeEE- 5
)EE5 6
;EE6 7
awaitFF 
_contextFF 
.FF 
SaveChangesAsyncFF +
(FF+ ,
)FF, -
;FF- .
}GG 	
publicII 
asyncII 
TaskII 
UpdateEmployeeAsyncII -
(II- .
EmployeeDtoII. 9
employeeDtoII: E
)IIE F
{JJ 	
varKK 
existingEmployeeKK  
=KK! "
awaitKK# (
_contextKK) 1
.KK1 2
employeeKK2 :
.KK: ;
	FindAsyncKK; D
(KKD E
employeeDtoKKE P
.KKP Q
IdKKQ S
)KKS T
;KKT U
ifLL 
(LL 
existingEmployeeLL  
==LL! #
nullLL$ (
)LL( )
{MM 
throwNN 
newNN  
KeyNotFoundExceptionNN .
(NN. /
$"NN/ 1
$strNN1 C
{NNC D
employeeDtoNND O
.NNO P
IdNNP R
}NNR S
$strNNS b
"NNb c
)NNc d
;NNd e
}OO 
existingEmployeeQQ 
.QQ 
NameQQ !
=QQ" #
employeeDtoQQ$ /
.QQ/ 0
NameQQ0 4
;QQ4 5
existingEmployeeRR 
.RR 
EmailRR "
=RR# $
employeeDtoRR% 0
.RR0 1
EmailRR1 6
;RR6 7
existingEmployeeSS 
.SS 
PasswordSS %
=SS& '
employeeDtoSS( 3
.SS3 4
PasswordSS4 <
;SS< =
existingEmployeeTT 
.TT 
IsAdminTT $
=TT% &
employeeDtoTT' 2
.TT2 3
IsAdminTT3 :
;TT: ;
existingEmployeeUU 
.UU 
StoragePermissionUU .
=UU/ 0
employeeDtoUU1 <
.UU< =
StoragePermissionUU= N
;UUN O
existingEmployeeVV 
.VV 
OrderPermissionVV ,
=VV- .
employeeDtoVV/ :
.VV: ;
OrderPermissionVV; J
;VVJ K
existingEmployeeWW 
.WW 
EmployeePermissionWW /
=WW0 1
employeeDtoWW2 =
.WW= >
EmployeePermissionWW> P
;WWP Q
existingEmployeeXX 
.XX 

Company_IdXX '
=XX( )
employeeDtoXX* 5
.XX5 6

Company_IdXX6 @
;XX@ A
_contextZZ 
.ZZ 
employeeZZ 
.ZZ 
UpdateZZ $
(ZZ$ %
existingEmployeeZZ% 5
)ZZ5 6
;ZZ6 7
await[[ 
_context[[ 
.[[ 
SaveChangesAsync[[ +
([[+ ,
)[[, -
;[[- .
}\\ 	
public^^ 
async^^ 
Task^^ 
DeleteEmployeeAsync^^ -
(^^- .
long^^. 2
id^^3 5
)^^5 6
{__ 	
var`` 
employee`` 
=`` 
await``  
_context``! )
.``) *
employee``* 2
.``2 3
	FindAsync``3 <
(``< =
id``= ?
)``? @
;``@ A
ifaa 
(aa 
employeeaa 
==aa 
nullaa  
)aa  !
{bb 
throwcc 
newcc  
KeyNotFoundExceptioncc .
(cc. /
$"cc/ 1
$strcc1 C
{ccC D
idccD F
}ccF G
$strccG V
"ccV W
)ccW X
;ccX Y
}dd 
_contextff 
.ff 
employeeff 
.ff 
Removeff $
(ff$ %
employeeff% -
)ff- .
;ff. /
awaitgg 
_contextgg 
.gg 
SaveChangesAsyncgg +
(gg+ ,
)gg, -
;gg- .
}hh 	
}ii 
}jj N
mD:\Fontys\2025-2026\Semester 3.1\Individueel project\Eventary\Eventary-API\DAL\Repositories\ItemRepository.cs
	namespace

 	
CORE


 
.

 
Repositories

 
{ 
public 

class 
ItemRepository 
:  !
IItemRepository" 1
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
ItemRepository 
( 
AppDbContext *
context+ 2
)2 3
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
ItemDto& -
>- .
>. /
GetAllAsync0 ;
(; <
)< =
{ 	
return 
await 
_context !
.! "
item" &
. 
Select 
( 
item 
=> 
new  #
ItemDto$ +
{ 
Id 
= 
item 
. 
Id  
,  !
Name 
= 
item 
.  
Name  $
,$ %
Price 
= 
item  
.  !
Price! &
,& '
Quantity 
= 
item #
.# $
Quantity$ ,
,, -
ImageUrl 
= 
item #
.# $
ImageUrl$ ,
,, -
Category_Id 
=  !
item" &
.& '
Category_Id' 2
,2 3

Company_Id   
=    
item  ! %
.  % &

Company_Id  & 0
}!! 
)!! 
."" 
ToListAsync"" 
("" 
)"" 
;"" 
}## 	
public%% 
async%% 
Task%% 
<%% 
ItemDto%% !
?%%! "
>%%" #
GetByIdAsync%%$ 0
(%%0 1
long%%1 5
id%%6 8
)%%8 9
{&& 	
var'' 
item'' 
='' 
await'' 
_context'' %
.''% &
item''& *
.''* +
	FindAsync''+ 4
(''4 5
id''5 7
)''7 8
;''8 9
if(( 
((( 
item(( 
==(( 
null(( 
)(( 
return(( $
null((% )
;(() *
return** 
new** 
ItemDto** 
{++ 
Id,, 
=,, 
item,, 
.,, 
Id,, 
,,, 
Name-- 
=-- 
item-- 
.-- 
Name--  
,--  !
Price.. 
=.. 
item.. 
... 
Price.. "
,.." #
Quantity// 
=// 
item// 
.//  
Quantity//  (
,//( )
ImageUrl00 
=00 
item00 
.00  
ImageUrl00  (
,00( )
Category_Id11 
=11 
item11 "
.11" #
Category_Id11# .
,11. /

Company_Id22 
=22 
item22 !
.22! "

Company_Id22" ,
}33 
;33 
}44 	
public66 
async66 
Task66 
<66 
ItemDto66 !
>66! "
AddItemAsync66# /
(66/ 0
ItemDto660 7
itemDto668 ?
)66? @
{77 	
var88 
item88 
=88 
new88 
Item88 
{99 
Name:: 
=:: 
itemDto:: 
.:: 
Name:: #
,::# $
Price;; 
=;; 
itemDto;; 
.;;  
Price;;  %
,;;% &
Quantity<< 
=<< 
itemDto<< "
.<<" #
Quantity<<# +
,<<+ ,
ImageUrl== 
=== 
itemDto== "
.==" #
ImageUrl==# +
,==+ ,
Category_Id>> 
=>> 
itemDto>> %
.>>% &
Category_Id>>& 1
,>>1 2

Company_Id?? 
=?? 
itemDto?? $
.??$ %

Company_Id??% /
}@@ 
;@@ 
varBB 
	addedItemBB 
=BB 
awaitBB !
_contextBB" *
.BB* +
itemBB+ /
.BB/ 0
AddAsyncBB0 8
(BB8 9
itemBB9 =
)BB= >
;BB> ?
awaitCC 
_contextCC 
.CC 
SaveChangesAsyncCC +
(CC+ ,
)CC, -
;CC- .
returnEE 
newEE 
ItemDtoEE 
{FF 
IdGG 
=GG 
	addedItemGG 
.GG 
EntityGG %
.GG% &
IdGG& (
,GG( )
NameHH 
=HH 
	addedItemHH  
.HH  !
EntityHH! '
.HH' (
NameHH( ,
,HH, -
PriceII 
=II 
	addedItemII !
.II! "
EntityII" (
.II( )
PriceII) .
,II. /
QuantityJJ 
=JJ 
	addedItemJJ $
.JJ$ %
EntityJJ% +
.JJ+ ,
QuantityJJ, 4
,JJ4 5
ImageUrlKK 
=KK 
	addedItemKK $
.KK$ %
EntityKK% +
.KK+ ,
ImageUrlKK, 4
,KK4 5
Category_IdLL 
=LL 
	addedItemLL '
.LL' (
EntityLL( .
.LL. /
Category_IdLL/ :
,LL: ;

Company_IdMM 
=MM 
	addedItemMM &
.MM& '
EntityMM' -
.MM- .

Company_IdMM. 8
}NN 
;NN 
}OO 	
publicQQ 
asyncQQ 
TaskQQ 
UpdateItemAsyncQQ )
(QQ) *
ItemDtoQQ* 1
itemDtoQQ2 9
)QQ9 :
{RR 	
varSS 
itemSS 
=SS 
awaitSS 
_contextSS %
.SS% &
itemSS& *
.SS* +
	FindAsyncSS+ 4
(SS4 5
itemDtoSS5 <
.SS< =
IdSS= ?
)SS? @
;SS@ A
ifTT 
(TT 
itemTT 
==TT 
nullTT 
)TT 
returnTT $
;TT$ %
itemVV 
.VV 
NameVV 
=VV 
itemDtoVV 
.VV  
NameVV  $
;VV$ %
itemWW 
.WW 
PriceWW 
=WW 
itemDtoWW  
.WW  !
PriceWW! &
;WW& '
itemXX 
.XX 
QuantityXX 
=XX 
itemDtoXX #
.XX# $
QuantityXX$ ,
;XX, -
itemYY 
.YY 
ImageUrlYY 
=YY 
itemDtoYY #
.YY# $
ImageUrlYY$ ,
;YY, -
itemZZ 
.ZZ 
Category_IdZZ 
=ZZ 
itemDtoZZ &
.ZZ& '
Category_IdZZ' 2
;ZZ2 3
item[[ 
.[[ 

Company_Id[[ 
=[[ 
itemDto[[ %
.[[% &

Company_Id[[& 0
;[[0 1
_context]] 
.]] 
item]] 
.]] 
Update]]  
(]]  !
item]]! %
)]]% &
;]]& '
await^^ 
_context^^ 
.^^ 
SaveChangesAsync^^ +
(^^+ ,
)^^, -
;^^- .
}__ 	
publicaa 
asyncaa 
Taskaa 
DeleteItemAsyncaa )
(aa) *
longaa* .
idaa/ 1
)aa1 2
{bb 	
varcc 
itemcc 
=cc 
awaitcc 
_contextcc %
.cc% &
itemcc& *
.cc* +
	FindAsynccc+ 4
(cc4 5
idcc5 7
)cc7 8
;cc8 9
ifdd 
(dd 
itemdd 
==dd 
nulldd 
)dd 
returndd $
;dd$ %
_contextff 
.ff 
itemff 
.ff 
Removeff  
(ff  !
itemff! %
)ff% &
;ff& '
awaitgg 
_contextgg 
.gg 
SaveChangesAsyncgg +
(gg+ ,
)gg, -
;gg- .
}hh 	
publicjj 
asyncjj 
Taskjj 
<jj 
ItemDtojj !
?jj! "
>jj" #
GetByNameAsyncjj$ 2
(jj2 3
stringjj3 9
namejj: >
)jj> ?
{kk 	
varll 
itemll 
=ll 
awaitll 
_contextll %
.ll% &
itemll& *
.ll* +
FirstOrDefaultAsyncll+ >
(ll> ?
ill? @
=>llA C
illD E
.llE F
NamellF J
==llK M
namellN R
)llR S
;llS T
ifmm 
(mm 
itemmm 
==mm 
nullmm 
)mm 
returnmm $
nullmm% )
;mm) *
returnoo 
newoo 
ItemDtooo 
{pp 
Idqq 
=qq 
itemqq 
.qq 
Idqq 
,qq 
Namerr 
=rr 
itemrr 
.rr 
Namerr  
,rr  !
Pricess 
=ss 
itemss 
.ss 
Pricess "
,ss" #
Quantitytt 
=tt 
itemtt 
.tt  
Quantitytt  (
,tt( )
ImageUrluu 
=uu 
itemuu 
.uu  
ImageUrluu  (
,uu( )
Category_Idvv 
=vv 
itemvv "
.vv" #
Category_Idvv# .
,vv. /

Company_Idww 
=ww 
itemww !
.ww! "

Company_Idww" ,
}xx 
;xx 
}yy 	
}zz 
}{{ ½D
nD:\Fontys\2025-2026\Semester 3.1\Individueel project\Eventary\Eventary-API\DAL\Repositories\OrderRepository.cs
	namespace 	
DAL
 
. 
Repositories 
{ 
public		 

class		 
OrderRepository		  
:		! "
IOrderRepository		# 3
{

 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
OrderRepository 
( 
AppDbContext +
context, 3
)3 4
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
OrderDto& .
>. /
>/ 0
GetAllAsync1 <
(< =
)= >
{ 	
var 
orders 
= 
await 
_context '
.' (
order( -
.- .
ToListAsync. 9
(9 :
): ;
;; <
return 
orders 
. 
Select  
(  !
order! &
=>' )
new* -
OrderDto. 6
{ 
Id 
= 
order 
. 
Id 
, 
Name 
= 
order 
. 
Name !
,! "
Address 
= 
order 
.  
Address  '
,' (
Email 
= 
order 
. 
Email #
,# $
Phone 
= 
order 
. 
Phone #
,# $
	StartDate 
= 
order !
.! "
	StartDate" +
,+ ,
EndDate 
= 
order 
.  
EndDate  '
,' (
Status 
= 
order 
. 
Status %
,% &
Note 
= 
order 
. 
Note !
,! "

company_Id!! 
=!! 
order!! "
.!!" #

company_Id!!# -
}"" 
)"" 
;"" 
}## 	
public%% 
async%% 
Task%% 
<%% 
OrderDto%% "
?%%" #
>%%# $
GetByIdAsync%%% 1
(%%1 2
long%%2 6
id%%7 9
)%%9 :
{&& 	
var'' 
order'' 
='' 
await'' 
_context'' &
.''& '
order''' ,
.'', -
	FindAsync''- 6
(''6 7
id''7 9
)''9 :
;'': ;
if(( 
((( 
order(( 
==(( 
null(( 
)(( 
{)) 
return** 
null** 
;** 
}++ 
return-- 
new-- 
OrderDto-- 
{.. 
Id// 
=// 
order// 
.// 
Id// 
,// 
Name00 
=00 
order00 
.00 
Name00 !
,00! "
Address11 
=11 
order11 
.11  
Address11  '
,11' (
Email22 
=22 
order22 
.22 
Email22 #
,22# $
Phone33 
=33 
order33 
.33 
Phone33 #
,33# $
	StartDate44 
=44 
order44 !
.44! "
	StartDate44" +
,44+ ,
EndDate55 
=55 
order55 
.55  
EndDate55  '
,55' (
Status66 
=66 
order66 
.66 
Status66 %
,66% &
Note77 
=77 
order77 
.77 
Note77 !
,77! "

company_Id99 
=99 
order99 "
.99" #

company_Id99# -
}:: 
;:: 
};; 	
public== 
async== 
Task== 
AddOrderAsync== '
(==' (
OrderDto==( 0
orderDto==1 9
)==9 :
{>> 	
var?? 
order?? 
=?? 
new?? 
Order?? !
{@@ 
IdAA 
=AA 
orderDtoAA 
.AA 
IdAA  
,AA  !
NameBB 
=BB 
orderDtoBB 
.BB  
NameBB  $
,BB$ %
AddressCC 
=CC 
orderDtoCC "
.CC" #
AddressCC# *
,CC* +
EmailDD 
=DD 
orderDtoDD  
.DD  !
EmailDD! &
,DD& '
PhoneEE 
=EE 
orderDtoEE  
.EE  !
PhoneEE! &
,EE& '
	StartDateFF 
=FF 
orderDtoFF $
.FF$ %
	StartDateFF% .
,FF. /
EndDateGG 
=GG 
orderDtoGG "
.GG" #
EndDateGG# *
,GG* +
StatusHH 
=HH 
orderDtoHH !
.HH! "
StatusHH" (
,HH( )
NoteII 
=II 
orderDtoII 
.II  
NoteII  $
,II$ %

company_IdKK 
=KK 
orderDtoKK %
.KK% &

company_IdKK& 0
}LL 
;LL 
awaitNN 
_contextNN 
.NN 
orderNN  
.NN  !
AddAsyncNN! )
(NN) *
orderNN* /
)NN/ 0
;NN0 1
awaitOO 
_contextOO 
.OO 
SaveChangesAsyncOO +
(OO+ ,
)OO, -
;OO- .
}PP 	
publicRR 
asyncRR 
TaskRR 
UpdateOrderAsyncRR *
(RR* +
OrderDtoRR+ 3
orderDtoRR4 <
)RR< =
{SS 	
varTT 
orderTT 
=TT 
awaitTT 
_contextTT &
.TT& '
orderTT' ,
.TT, -
	FindAsyncTT- 6
(TT6 7
orderDtoTT7 ?
.TT? @
IdTT@ B
)TTB C
;TTC D
ifUU 
(UU 
orderUU 
==UU 
nullUU 
)UU 
{VV 
throwWW 
newWW 
	ExceptionWW #
(WW# $
$strWW$ 5
)WW5 6
;WW6 7
}XX 
orderZZ 
.ZZ 
NameZZ 
=ZZ 
orderDtoZZ !
.ZZ! "
NameZZ" &
;ZZ& '
order[[ 
.[[ 
Address[[ 
=[[ 
orderDto[[ $
.[[$ %
Address[[% ,
;[[, -
order\\ 
.\\ 
Email\\ 
=\\ 
orderDto\\ "
.\\" #
Email\\# (
;\\( )
order]] 
.]] 
Phone]] 
=]] 
orderDto]] "
.]]" #
Phone]]# (
;]]( )
order^^ 
.^^ 
	StartDate^^ 
=^^ 
orderDto^^ &
.^^& '
	StartDate^^' 0
;^^0 1
order__ 
.__ 
EndDate__ 
=__ 
orderDto__ $
.__$ %
EndDate__% ,
;__, -
order`` 
.`` 
Status`` 
=`` 
orderDto`` #
.``# $
Status``$ *
;``* +
orderaa 
.aa 
Noteaa 
=aa 
orderDtoaa !
.aa! "
Noteaa" &
;aa& '
awaitcc 
_contextcc 
.cc 
SaveChangesAsynccc +
(cc+ ,
)cc, -
;cc- .
}dd 	
publicff 
asyncff 
Taskff 
DeleteOrderAsyncff *
(ff* +
longff+ /
idff0 2
)ff2 3
{gg 	
varhh 
orderhh 
=hh 
awaithh 
_contexthh &
.hh& '
orderhh' ,
.hh, -
	FindAsynchh- 6
(hh6 7
idhh7 9
)hh9 :
;hh: ;
ifii 
(ii 
orderii 
==ii 
nullii 
)ii 
{jj 
throwkk 
newkk 
	Exceptionkk #
(kk# $
$strkk$ 5
)kk5 6
;kk6 7
}ll 
_contextnn 
.nn 
ordernn 
.nn 
Removenn !
(nn! "
ordernn" '
)nn' (
;nn( )
awaitoo 
_contextoo 
.oo 
SaveChangesAsyncoo +
(oo+ ,
)oo, -
;oo- .
}pp 	
}rr 
}ss 